<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition>

	<h:form id="formularioHEA">
		<p:growl showDetail="true" autoUpdate="true" />

		<p:fieldset legend="Historia de la Enfermedad Actual"
			toggleable="true" toggleSpeed="500">
			<p:panelGrid columns="6">
				<p:outputLabel for="inputFC" value="FC: " />
				<p:inputText id="inputFC" />

				<p:outputLabel for="inputTA" value="T/A: " />
				<p:inputText id="inputTA" />

				<p:outputLabel for="inputPeso" value="Peso: " />
				<p:inputText id="inputPeso"
					value="#{visitaBean.historiaClinica.peso}" />

				<p:outputLabel for="inputTalla" value="Talla:" />
				<p:inputText id="inputTalla"
					value="#{visitaBean.historiaClinica.talla}" />

				<p:outputLabel for="inputIMC" value="IMC:" />
				<p:inputText id="inputIMC" />
			</p:panelGrid>
		</p:fieldset>
		<p:fieldset legend="Sintomas y Enfermedades" toggleable="true"
			toggleSpeed="500">
			<p:panelGrid columns="6">
				<p:outputLabel value="Agregar sintoma" for="autoSintoma" />
				<p:autoComplete id="autoSintoma" queryDelay="100"
					value="#{terapiaBean.sintoma}"
					completeMethod="#{terapiaBean.autoCompletarSintoma}" var="sin"
					itemLabel="#{sin.descripcion}" itemValue="#{sin}"
					converter="#{sintomaConverter}" panelStyleClass="ui-themes">
				</p:autoComplete>
				<p:commandButton id="btnAgregar" value="Agregar"
					action="#{terapiaBean.addSintoma2}"
					update=":#{p:component('tablaSin')}" />


				<p:outputLabel value="Agregar enfermedad" for="autoEnfermedad"></p:outputLabel>

				<p:autoComplete id="autoEnfermedad" queryDelay="100"
					value="#{terapiaBean.enfermedad}"
					completeMethod="#{terapiaBean.autoCompletarEnfermedad}" var="enf"
					itemLabel="#{enf.nombre}" itemValue="#{enf}"
					converter="#{enfermedadConverter}" panelStyleClass="ui-themes">
				</p:autoComplete>
				<p:commandButton id="btnAgregarEnf" value="Agregar"
					action="#{terapiaBean.addEnfermedad2}"
					update=":#{p:component('tablaEnf')}" />
			</p:panelGrid>
			<h:panelGrid columns="2" cellpadding="10" cellspacing="10">
				<p:dataTable emptyMessage="No hay sintomas en la terapia"
					id="tablaSin" var="sxt" value="#{terapiaBean.listasintoma}"
					paginator="true" rows="3" style="width:350px;">
					<f:facet name="header">
        							Sintomas del Paciente
    						</f:facet>
					<p:column headerText="Nombre">
						<p:outputLabel value="#{sxt.descripcion}" />
					</p:column>
				</p:dataTable>
				<p:dataTable emptyMessage="No hay enfermedades en la terapia"
					id="tablaEnf" var="enf" value="#{terapiaBean.listaenfermedad}"
					paginator="true" rows="3" style="width:350px;">
					<f:facet name="header">
        							Enfermedades del Paciente
    						</f:facet>
					<p:column headerText="Nombre">
						<p:outputLabel value="#{enf.nombre}" />
					</p:column>
				</p:dataTable>
			</h:panelGrid>
		</p:fieldset>

		<p:fieldset legend="Antecedentes Patologicos Familiares"
			toggleable="true" toggleSpeed="500">
			<p:panelGrid columns="2" style="height: 30px;">
				<p:outputLabel for="inputDes" value="Descripcion: "
					style="width:200px" />
				<p:inputTextarea id="inputDes" style="width:650px" />
			</p:panelGrid>
		</p:fieldset>


		<p:commandButton value="Registrar"
			action="#{visitaBean.nuevaHistoria2}"
			update=":#{p:component('tablaPac')}" />
	</h:form>
</ui:composition>
</html>